<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vaxiliv - Animal Health & Vaccine Tracker</title>

    <meta name="theme-color" content="#059669">
    <link rel="manifest" href="manifest.json">
    <link rel="apple-touch-icon" href="assets/images/icons/icon-192.png">

    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin=""/>
    
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>

    <style>
        body { font-family: 'Inter', sans-serif; background-color: #F0FDF4; }
        .text-brand { color: #047857; } .bg-brand { background-color: #047857; }
        .border-brand { border-color: #047857; } .accent-brand { accent-color: #047857; }
        
        #background-container {
            background-image: url('assets/images/background-blurred.jpg');
            background-size: cover;
            background-position: center;
        }
        #background-container::after {
            content: ''; position: absolute; inset: 0;
            background-color: rgba(240, 253, 244, 0.7);
        }

        .content-section { display: none; }
        .content-section.active { display: block; animation: slideInUp 0.6s cubic-bezier(0.25, 1, 0.5, 1); }
        
        @keyframes slideInUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

        .bottom-nav { box-shadow: 0 -4px 12px rgba(0,0,0,0.1); }
        .nav-btn { transition: all 0.2s ease-in-out; }
        .nav-btn.active { color: #047857; transform: translateY(-4px); }
        .nav-btn.active .nav-icon { transform: scale(1.1); }
        .nav-btn.active .nav-text { font-weight: 600; }
        
        .modal-overlay { transition: opacity 0.3s, visibility 0.3s; }
        .modal-overlay.visible { opacity: 1; visibility: visible; }
        .modal-content { transition: transform 0.4s cubic-bezier(0.25, 1, 0.5, 1); }
        .modal-overlay:not(.visible) .modal-content { transform: translateY(100%); }
        .modal-overlay.visible .modal-content { transform: translateY(0); }
        
        .health-modal-content { max-height: 85vh; }
        .accordion-content { max-height: 0; overflow: hidden; transition: max-height 0.4s ease-in-out; }
        .vaccine-row.completed { background-color: #dcfce7; }
        .vaccine-row.completed td { text-decoration: line-through; color: #166534; }
        .vaccine-row.pending { background-color: #fee2e2; }
        .vaccine-row.due { background-color: #fef9c3; }
        .leaflet-popup-content-wrapper { border-radius: 8px; }
        .leaflet-popup-content { font-family: 'Inter', sans-serif; }
        .vet-popup h3 { font-weight: 700; color: #047857; margin: 0 0 4px; }
        .vet-popup p { margin: 2px 0; font-size: 12px; color: #4b5563; }
        .vet-popup a { display: block; margin-top: 8px; padding: 6px; text-align: center; background-color: #047857; color: white; border-radius: 6px; text-decoration: none; font-weight: 600; transition: background-color 0.2s; }
        .vet-popup a:hover { background-color: #059669; }
        .interactive-btn { transition: all 0.2s ease-in-out; }
        .interactive-btn:hover { transform: scale(1.05); box-shadow: 0 4px 15px rgba(0,0,0,0.1); }
        .interactive-btn:active { transform: scale(0.98); }

        .sr-only {
            position: absolute; width: 1px; height: 1px;
            padding: 0; margin: -1px; overflow: hidden;
            clip: rect(0, 0, 0, 0); white-space: nowrap; border-width: 0;
        }

        /* --- Splash Screen Animations & Photo --- */
        #splash-screen {
            background-image: linear-gradient(rgba(236, 253, 245, 0.8), rgba(236, 253, 245, 1)), url('assets/images/splash-background.jpg');
            background-size: cover;
            background-position: center;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .splash-logo-container {
            animation: pulse 2.5s infinite cubic-bezier(0.4, 0, 0.6, 1);
        }
        #splash-screen h1 {
            animation: fadeIn 1s ease-out;
        }
        #splash-screen .splash-subtitle {
            animation: fadeIn 1s ease-out 0.2s;
            animation-fill-mode: backwards; /* Ensures it starts transparent before animation begins */
        }
    </style>
</head>
<body class="text-gray-800">

<div id="splash-screen" class="fixed inset-0 bg-emerald-50 flex flex-col items-center justify-center z-[100] transition-opacity duration-700 ease-out">
    <div class="splash-logo-container flex items-center space-x-4">
        <div class="w-20 h-20 rounded-full bg-white border-4 border-brand flex items-center justify-center shadow-lg">
            <img src="assets/images/logo.png" alt="Vaxiliv Logo" class="w-12 h-12">
        </div>
        <h1 class="text-5xl font-bold text-brand">Vaxiliv</h1>
    </div>
    <p class="splash-subtitle mt-4 text-gray-500">Your Animal Health Partner</p>
</div>

<div id="background-container" class="fixed inset-0 z-0"></div>

<div id="app" class="relative z-10 max-w-5xl mx-auto bg-white/80 backdrop-blur-sm shadow-2xl flex flex-col h-screen md:rounded-lg overflow-hidden">
    <header class="bg-emerald-50/80 backdrop-blur-sm p-4 md:rounded-t-lg shadow-md flex-shrink-0">
        <div class="flex items-center justify-between">
            <div class="flex items-center space-x-3">
                <div class="w-12 h-12 rounded-full overflow-hidden bg-white border-2 border-brand flex items-center justify-center">
                    <img src="assets/images/logo.png" alt="Vaxiliv Logo" class="w-8 h-8">
                </div>
                <h1 class="text-2xl font-bold text-brand">Vaxiliv</h1>
            </div>
            <div>
                <label for="language-switcher" class="sr-only">Choose a language</label>
                 <select id="language-switcher" class="bg-white border border-brand text-brand text-sm rounded-lg focus:ring-green-500 focus:border-green-500 block w-full p-1.5">
                    <option value="en">English</option>
                    <option value="sw">Kiswahili</option>
                    <option value="so">Soomaali</option>
                </select>
            </div>
        </div>
    </header>

    <main class="p-4 pb-24 flex-grow overflow-y-auto">

        <section id="tips" class="content-section active">
            <h2 class="text-xl font-bold text-brand mb-1" data-key="tips_title"></h2>
            <p class="text-gray-600 mb-4" data-key="tips_subtitle"></p>
            <div id="tips-grid" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4"></div>
            <div id="vaxiliv-reminder-card" class="mt-6 bg-emerald-100/80 border-l-4 border-emerald-500 text-emerald-800 p-4 rounded-md shadow-sm"></div>
        </section>

        <section id="schedules" class="content-section">
            <div class="bg-yellow-50/80 p-4 rounded-lg border border-yellow-200 shadow-sm mb-6">
                <h3 class="font-semibold text-lg mb-3 text-yellow-800 flex items-center space-x-2">
                    <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9"/><path d="M10.3 21a1.94 1.94 0 0 0 3.4 0"/></svg>
                    <span data-key="reminders_title"></span>
                </h3>
                <div id="notification-permission-area">
                    <p class="text-sm text-yellow-700 mb-3" data-key="reminders_description"></p>
                    <button id="enable-notifications-btn" class="w-full bg-yellow-500 text-white font-semibold py-2 px-4 rounded-lg interactive-btn" data-key="reminders_enable_button"></button>
                    <p id="notification-status" class="text-xs text-center text-gray-500 mt-2"></p>
                </div>
                <div id="upcoming-vaccinations-list" class="mt-4 space-y-2"></div>
            </div>
            <div class="bg-gray-50/80 p-4 rounded-lg border border-gray-200 shadow-sm mb-6">
                <h3 class="font-semibold text-lg mb-3" data-key="tracker_add_animal"></h3>
                <div class="space-y-4">
                    <div>
                        <label for="animal-category" class="block text-sm font-medium text-gray-700" data-key="tracker_animal_category"></label>
                        <select id="animal-category" class="mt-1 block w-full pl-3 pr-10 py-2 border-gray-300 rounded-md accent-brand"></select>
                    </div>
                     <div>
                        <label for="animal-type" class="block text-sm font-medium text-gray-700" data-key="tracker_animal_type"></label>
                         <div class="flex items-center space-x-3">
                             <select id="animal-type" class="mt-1 block w-full pl-3 pr-10 py-2 border-gray-300 rounded-md accent-brand"></select>
                             <div id="animal-icon-preview" class="w-12 h-12 mt-1 flex items-center justify-center bg-gray-200 rounded-md overflow-hidden"></div>
                         </div>
                    </div>
                     <div>
                        <label for="animal-name" class="block text-sm font-medium text-gray-700" data-key="tracker_animal_name"></label>
                         <input type="text" id="animal-name" class="mt-1 block w-full px-3 py-2 border rounded-md shadow-sm">
                    </div>
                     <div>
                        <label for="animal-dob" class="block text-sm font-medium text-gray-700" data-key="tracker_animal_dob"></label>
                         <input type="date" id="animal-dob" class="mt-1 block w-full px-3 py-2 border rounded-md shadow-sm">
                    </div>
                    <button id="add-animal-btn" class="w-full bg-brand text-white font-semibold py-2 px-4 rounded-lg flex items-center justify-center space-x-2 interactive-btn">
                         <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><path d="M8 12h8"/><path d="M12 8v8"/></svg>
                        <span data-key="tracker_add_button"></span>
                    </button>
                </div>
            </div>
            <div id="schedules-container" class="mt-6 space-y-4"></div>
            <h2 class="text-xl font-bold text-brand mb-4 mt-8" data-key="schedules_general_title"></h2>
            <p class="text-gray-600 mb-4" data-key="schedules_general_subtitle"></p>
            <div id="static-schedules-container" class="space-y-3"></div>
        </section>

        <section id="locator" class="content-section">
            <h2 class="text-xl font-bold text-brand mb-1" data-key="locator_title"></h2>
            <p class="text-gray-600 mb-4" data-key="locator_subtitle"></p>
            <div id="map" class="w-full h-96 rounded-lg border border-gray-300 shadow-sm bg-gray-200"></div>
            <p id="map-status" class="text-xs text-center text-gray-500 mt-2" data-key="locator_map_loading"></p>
        </section>

        <section id="amr" class="content-section">
            <h2 class="text-xl font-bold text-brand mb-2" data-key="amr_title"></h2>
            <p class="text-gray-600 italic mb-4" data-key="amr_quote"></p>
            <div class="space-y-6 text-gray-700">
                <img src="assets/images/amr_visual.jpg" alt="Antimicrobial Resistance Visual" class="w-full h-48 object-cover rounded-lg shadow-md mb-4">
                <p data-key="amr_intro"></p>
                <div>
                    <h3 class="font-bold text-lg text-brand mb-2" data-key="amr_farm_title"></h3>
                    <div class="pl-4 border-l-4 border-emerald-300 space-y-3">
                        <div><h4 class="font-semibold" data-key="amr_farm_how_title"></h4><ul class="list-disc list-inside text-sm space-y-1 mt-1" data-key="amr_farm_how_list"></ul></div>
                        <div><h4 class="font-semibold text-red-600" data-key="amr_farm_signs_title"></h4><ul class="list-disc list-inside text-sm space-y-1 mt-1" data-key="amr_farm_signs_list"></ul></div>
                        <div><h4 class="font-semibold text-green-700" data-key="amr_farm_what_to_do_title"></h4><ul class="list-disc list-inside text-sm space-y-1 mt-1" data-key="amr_farm_what_to_do_list"></ul></div>
                    </div>
                </div>
                <div>
                    <h3 class="font-bold text-lg text-brand mb-2" data-key="amr_pets_title"></h3>
                    <div class="pl-4 border-l-4 border-emerald-300 space-y-3">
                        <div><h4 class="font-semibold" data-key="amr_pets_mistakes_title"></h4><ul class="list-disc list-inside text-sm space-y-1 mt-1" data-key="amr_pets_mistakes_list"></ul></div>
                        <div><h4 class="font-semibold text-green-700" data-key="amr_pets_practices_title"></h4><ul class="list-disc list-inside text-sm space-y-1 mt-1" data-key="amr_pets_practices_list"></ul></div>
                    </div>
                </div>
                <div>
                    <h3 class="font-bold text-lg text-brand mb-2" data-key="amr_one_health_title"></h3>
                    <p data-key="amr_one_health_p1"></p>
                    <p class="mt-2" data-key="amr_one_health_p2"></p>
                </div>
                <div class="mt-6 bg-emerald-100/80 border-l-4 border-emerald-500 text-emerald-800 p-4 rounded-md shadow-sm">
                    <h4 class="font-bold" data-key="amr_vaxiliv_message_title"></h4>
                    <p class="italic" data-key="amr_vaxiliv_message_content"></p>
                </div>
            </div>
        </section>
        
        <section id="about" class="content-section">
            <h2 class="text-xl font-bold text-brand mb-2" data-key="about_title"></h2>
            <p class="text-gray-600 italic mb-4" data-key="about_quote"></p>
            <div class="space-y-6 text-gray-700">
                <img src="assets/images/about_hero.jpg" alt="Vaxiliv Mission Visual" class="w-full h-48 object-cover rounded-lg shadow-md mb-4">
                <p data-key="about_intro"></p>
                <div>
                    <h3 class="font-bold text-lg text-brand mb-2" data-key="about_section1_title"></h3>
                    <div class="pl-4 border-l-4 border-emerald-300 space-y-3">
                        <p data-key="about_section1_content"></p>
                    </div>
                </div>
                <div>
                    <h3 class="font-bold text-lg text-brand mb-2" data-key="about_section2_title"></h3>
                    <div class="pl-4 border-l-4 border-emerald-300 space-y-3">
                        <p data-key="about_section2_content"></p>
                    </div>
                </div>
                <div class="mt-6 bg-emerald-100/80 border-l-4 border-emerald-500 text-emerald-800 p-4 rounded-md shadow-sm">
                    <h4 class="font-bold" data-key="about_vaxiliv_message_title"></h4>
                    <p class="italic" data-key="about_vaxiliv_message_content"></p>
                </div>
            </div>
        </section>

    </main>

    <footer class="bottom-nav fixed bottom-0 left-0 right-0 max-w-5xl mx-auto bg-white/80 backdrop-blur-sm md:rounded-b-lg border-t grid grid-cols-5 gap-1 p-2 z-20">
        <button data-tab="tips" class="nav-btn flex flex-col items-center justify-center text-gray-500 text-xs p-1 rounded-md">
            <svg class="nav-icon w-6 h-6 mb-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><title>Health Tips</title><path stroke-linecap="round" stroke-linejoin="round" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"/></svg>
            <span class="nav-text" data-key="tab_tips"></span>
        </button>
        <button data-tab="schedules" class="nav-btn flex flex-col items-center justify-center text-gray-500 text-xs p-1 rounded-md">
            <svg class="nav-icon w-6 h-6 mb-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><title>Schedules</title><path stroke-linecap="round" stroke-linejoin="round" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"/></svg>
            <span class="nav-text" data-key="tab_schedules"></span>
        </button>
        <button data-tab="locator" class="nav-btn flex flex-col items-center justify-center text-gray-500 text-xs p-1 rounded-md">
            <svg class="nav-icon w-6 h-6 mb-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><title>Vet Locator</title><path stroke-linecap="round" stroke-linejoin="round" d="M17.657 16.657 13.414 20.9a2 2 0 0 1-2.827 0l-4.244-4.243a8 8 0 1 1 11.314 0z"/><path stroke-linecap="round" stroke-linejoin="round" d="M15 11a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"/></svg>
            <span class="nav-text" data-key="tab_locator"></span>
        </button>
        <button data-tab="amr" class="nav-btn flex flex-col items-center justify-center text-gray-500 text-xs p-1 rounded-md">
            <svg class="nav-icon w-6 h-6 mb-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><title>Antimicrobial Resistance</title><path stroke-linecap="round" stroke-linejoin="round" d="M19 11a7 7 0 0 1-7 7m0 0a7 7 0 0 1-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 0 1-3-3V5a3 3 0 1 1 6 0v6a3 3 0 0 1-3 3z"/></svg>
            <span class="nav-text" data-key="tab_amr"></span>
        </button>
        <button data-tab="about" class="nav-btn flex flex-col items-center justify-center text-gray-500 text-xs p-1 rounded-md">
            <svg class="nav-icon w-6 h-6 mb-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><title>About</title><path stroke-linecap="round" stroke-linejoin="round" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0z"/></svg>
            <span class="nav-text" data-key="tab_about"></span>
        </button>
        <p class="text-center text-xs text-gray-400 col-span-5 mt-2">© Vaxiliv 2025</p>
    </footer>
</div>

<div id="modal" class="modal-overlay fixed inset-0 bg-black bg-opacity-50 flex items-end justify-center z-50 opacity-0 invisible">
    <div class="modal-content bg-white p-6 rounded-t-lg w-full max-w-5xl text-center">
        <p id="modal-message" class="mb-4"></p>
        <button id="modal-close" class="bg-brand text-white font-semibold py-2 px-6 rounded-lg interactive-btn" data-key="modal_ok_button"></button>
    </div>
</div>

<div id="health-tip-modal" class="modal-overlay fixed inset-0 bg-black bg-opacity-60 flex items-end justify-center z-40 opacity-0 invisible">
    <div class="modal-content health-modal-content bg-gray-50 rounded-t-lg w-full max-w-5xl flex flex-col">
        <header id="health-modal-header" class="p-4 border-b bg-white rounded-t-lg flex items-center justify-between sticky top-0"></header>
        <div id="health-modal-body" class="p-4 overflow-y-auto"></div>
        <footer class="p-3 bg-gray-100 border-t">
             <button id="health-modal-close" class="w-full bg-brand text-white font-semibold py-2 px-6 rounded-lg interactive-btn" data-key="modal_close_button"></button>
        </footer>
    </div>
</div>

<script>
    if ('serviceWorker' in navigator) {
        window.addEventListener('load', () => {
            navigator.serviceWorker.register('./sw.js')
                .then(reg => console.log('ServiceWorker registration successful'))
                .catch(err => console.log('ServiceWorker registration failed: ', err));
        });
    }

    document.addEventListener('DOMContentLoaded', function() {
        const APP_STORAGE_KEY = 'vaxiliv_animals_v12';
        const LANG_STORAGE_KEY = 'vaxiliv_language';
        
        let animals = [];
        let currentLang = 'en';
        let map = null;
        
        // --- Embedded data.json content ---
        const appData = {
          "en": {
            "tab_tips": "Health", "tab_schedules": "Schedules", "tab_locator": "Locator", "tab_amr": "AMR", "tab_about": "About",
            "modal_ok_button": "OK", "modal_close_button": "Close", "modal_select_type": "Please select an animal type.", "modal_enter_name": "Please enter a name or ID.", "modal_enter_dob": "Please enter a valid date.",
            "animal_name_placeholder": "e.g., Simba, Cow-01",
            "tips_title": "Health Library", "tips_subtitle": "Select an animal for detailed care information.",
            "health_tip_feeding": "Feeding & Management", "health_tip_diseases": "Common Diseases", "health_tip_signs": "Signs", "health_tip_first_aid": "First Aid", "health_tip_prevention": "Prevention / Treatment",
            "reminders_title": "Vaccination Reminders", "reminders_description": "Enable notifications for upcoming vaccinations.",
            "reminders_enable_button": "Enable Notifications", "reminders_status_granted": "Notifications enabled!", "reminders_status_denied": "Notifications denied. Please enable in browser settings.",
            "reminders_no_upcoming": "No upcoming or overdue vaccinations.", "reminders_overdue": "Overdue", "reminders_due_in": "Due in", "reminders_days": "days",
            "tracker_add_animal": "Add Animal to My Schedules", "tracker_animal_category": "Animal Category", "tracker_animal_type": "Animal Type",
            "tracker_animal_name": "Animal's Name / ID", "tracker_animal_dob": "Date of Birth", "tracker_add_button": "Add to My Schedules",
            "schedules_general_title": "General Schedules", "schedules_general_subtitle": "General vaccination and deworming guidelines. Always consult a local vet.",
            "cat_select_category": "Select Category", "cat_select_type": "Select Type", "cat_prompt_select_category": "First, select a category",
            "cat_small_animals": "Small Animals (Pets)", "cat_large_animals": "Large Animals (Livestock)", "cat_poultry": "Poultry",
            "animal_dog": "Dog", "animal_cat": "Cat", "animal_cow": "Cow", "animal_goat": "Goat", "animal_pig": "Pig", "animal_sheep": "Sheep", "animal_chicken": "Chicken",
            "th_done": "Done", "th_vaccine": "Vaccine/Dewormer", "th_age": "Recommended Age", "th_due_date": "Due Date",
            "locator_title": "Vet Locator", "locator_subtitle": "Find veterinary services near you.", "locator_map_loading": "Locating...", "locator_call_button": "Call Now",
            "amr_title": "Antimicrobial Resistance (AMR)", "amr_quote": "“When medicines stop working — we all lose.”",
            "amr_intro": "Antimicrobial Resistance (AMR) means the drugs used to treat infections — like antibiotics — no longer work effectively. In Kenya and across Africa, this is a serious threat to both animal and human life. When antibiotics are overused or misused, the germs adapt and learn to survive.",
            "amr_farm_title": "On the Farm: Livestock AMR", "amr_farm_how_title": "How It Happens",
            "amr_farm_how_list": "<li>Giving antibiotics to animals that don’t need them “just to prevent disease.”</li><li>Buying drugs from agro-vet shops without prescription or lab tests.</li><li>Using half doses or stopping midway when the animal looks better.</li><li>Using human drugs like amoxicillin, metronidazole, or ampicillin on animals.</li><li>Ignoring withdrawal periods before selling milk or meat.</li>",
            "amr_farm_signs_title": "What You’ll Notice",
            "amr_farm_signs_list": "<li>Repeated mastitis in cows that doesn’t respond to treatment.</li><li>Pneumonia or diarrhea cases in goats that keep recurring.</li><li>Pigs and chickens dying even after changing several antibiotics.</li>",
            "amr_farm_what_to_do_title": "What You Can Do",
            "amr_farm_what_to_do_list": "<li>Call a vet to examine the animal before treatment.</li><li>Use only prescribed veterinary antibiotics.</li><li>Record every treatment (drug name, animal, dosage, and date).</li><li>Maintain hygiene, deworm regularly, and vaccinate — prevention first.</li><li>Respect withdrawal periods to keep food products safe.</li>",
            "amr_pets_title": "In Pets: Dogs and Cats", "amr_pets_mistakes_title": "Common Mistakes",
            "amr_pets_mistakes_list": "<li>Sharing leftover human drugs with pets.</li><li>Reusing old vet prescriptions for new illnesses.</li><li>Treating minor skin issues with antibiotics instead of bathing and cleaning.</li>",
            "amr_pets_practices_title": "Better Practices",
            "amr_pets_practices_list": "<li>Groom regularly using local shampoos such as Bioline Herbal, Medivet Pet Shampoo, or PetnVet Clean & Fresh.</li><li>Always seek a vet’s opinion before giving any medicine.</li><li>Keep vaccination and deworming up to date.</li>",
            "amr_one_health_title": "The One Health Connection",
            "amr_one_health_p1": "The One Health Approach recognizes that human, animal, and environmental health are one and the same. When farmers misuse antibiotics, residues leak into soil and water. The same bacteria can reach humans through milk, meat, or eggs, water, or farm waste.",
            "amr_one_health_p2": "In the end, the resistant germs that started in livestock can infect people, and the medicines we depend on stop working for everyone. That’s why veterinarians, doctors, environmental officers, and farmers must work together.",
            "amr_vaxiliv_message_title": "Vaxiliv Message", "amr_vaxiliv_message_content": "“Healthy animals, healthy people, healthy planet — that’s One Health.”",
            "about_title": "Our Mission",
            "about_quote": "“Because when we protect animals, we protect families, food systems, and futures.”",
            "about_intro": "Vaxiliv was born from a simple but urgent truth — that access to animal vaccination and livestock health services shouldn’t depend on where you live.",
            "about_section1_title": "The Problem We Solve",
            "about_section1_content": "We built this platform to bridge the gap between rural livestock keepers and the veterinary support they deserve. As someone who has walked the dusty paths of Kenya’s northern counties, I’ve seen how disease can wipe out entire herds — not for lack of care, but for lack of access. Vaxiliv stands as a response to that reality.",
            "about_section2_title": "Our Vision & Commitment",
            "about_section2_content": "Our vision is to make vaccination tracking, reporting, and awareness seamless — using technology that’s simple enough for every farmer, yet powerful enough for veterinary professionals. Every line of code here is guided by compassion, science, and a belief that innovation can protect livelihoods.",
            "about_vaxiliv_message_title": "Vaxiliv is a Calling",
            "about_vaxiliv_message_content": "It’s our contribution to a future where no farmer is left behind, and every animal’s life counts.",
            "healthTips": {
                "cow": { "title": "Cattle Care & Health", "feeding_management": "Healthy cattle start with proper feeding. A 400 kg cow needs 12 kg of dry matter daily. Mix Napier grass, lucerne, desmodium, and dairy meal. Provide 40–60 L of clean water and a mineral lick. Keep housing clean and spray weekly for ticks.", "diseases": [ { "name": "East Coast Fever", "local_name": "Ndigana kali", "signs": "High fever, swollen lymph nodes, laboured breathing, watery eyes, loss of appetite.", "first_aid": "Move to shade, offer clean water, and call a vet urgently for Butalex.", "prevention": "Regular tick control and vaccination." }, { "name": "Foot and Mouth Disease", "local_name": "Mdomo na kwato", "signs": "Drooling, blisters in mouth, teats, and feet, refusal to walk.", "first_aid": "Isolate, disinfect feed areas, offer soft feeds.", "prevention": "Vaccinate every 6–12 months." }, { "name": "Anaplasmosis", "local_name": "Mafua ya damu", "signs": "Sudden weakness, yellowing of eyes, fever, dark-brown urine.", "first_aid": "Keep animal calm, shade it, offer water. Contact a vet immediately.", "prevention": "Consistent tick control." }]},
                "sheep_goat": { "title": "Sheep & Goats Care", "feeding_management": "Goats browse shrubs like Leucaena; sheep prefer Boma Rhodes grass. Add maize bran or cottonseed cake for growth. Provide salt licks and clean water. Sheds should be dry and raised. Deworm every 2–3 months.", "diseases": [ { "name": "Peste des Petits Ruminants (PPR)", "local_name": "Kideri cha mbuzi", "signs": "High fever, nasal discharge, sores in mouth, coughing, diarrhea.", "first_aid": "Isolate, give oral rehydration, soft feed, keep warm.", "prevention": "Annual vaccination." }, { "name": "Contagious Caprine Pleuropneumonia (CCPP)", "local_name": "Homa ya mapafu ya mbuzi", "signs": "Coughing, difficulty breathing, nasal discharge.", "first_aid": "Shade and calm the goat. Vet treatment: tylosin.", "prevention": "Vaccination and good ventilation." }, { "name": "Worm Infestation", "signs": "Weight loss, rough coat, pale gums, bottle jaw.", "first_aid": "Deworm every 2–3 months with Alfabas, Levacide, etc.", "prevention": "Ensure clean pastures and water." }]},
                "pig": { "title": "Pig Care & Health", "feeding_management": "Feed pigs 5–7% of body weight daily: maize bran + fish meal + soya meal. Provide 10–15 L of clean water. Keep pens dry, warm, and disinfect weekly. Deworm quarterly.", "diseases": [ { "name": "African Swine Fever (ASF)", "local_name": "Homa kali ya nguruwe", "signs": "Sudden death, high fever, red ears, vomiting, bloody diarrhea.", "first_aid": "No cure — immediately isolate and call veterinary authorities.", "prevention": "Strict biosecurity; never feed leftovers." }, { "name": "Worm Infestation", "signs": "Poor growth, rough skin, pot belly, diarrhea.", "first_aid": "Deworm with Albendazole or Levamisole.", "prevention": "Clean pens daily." }]},
                "dog": { "title": "Dog Care & Health", "feeding_management": "Feed twice daily: cooked rice, ugali, or dog meal with meat and vegetables. Provide fresh water daily. Bathe twice monthly, brush coat weekly, and deworm every 3 months.", "diseases": [ { "name": "Tick Fever", "local_name": "Mafua ya kuumwa na kupe", "signs": "Persistent fever, loss of appetite, pale gums, nose bleeds.", "first_aid": "Keep hydrated, cool, and calm.", "prevention": "Vet will prescribe doxycycline. Use tick baths and collars." }, { "name": "Parvovirus", "signs": "Severe vomiting, foul-smelling bloody diarrhea, dehydration.", "first_aid": "Keep warm, give oral rehydration, see a vet urgently.", "prevention": "Vaccinate puppies from 6–8 weeks." }, { "name": "Rabies", "signs": "Sudden behavior change, drooling, aggression, paralysis.", "first_aid": "Do not touch — isolate and alert a vet.", "prevention": "Annual vaccination." }]},
                "cat": { "title": "Cat Care & Health", "feeding_management": "Feed cats twice daily with fish or meat mixed with ugali or rice. Provide clean drinking water. Brush coat weekly and keep litter box clean.", "diseases": [ { "name": "Cat Flu", "signs": "Sneezing, runny nose, watery eyes, loss of appetite.", "first_aid": "Wipe nose & eyes with saline, give soft food, keep warm.", "prevention": "Annual FVRCP vaccination." }, { "name": "Feline Panleukopenia", "signs": "Vomiting, bloody diarrhea, high fever, dehydration, sudden death.", "first_aid": "Keep warm, provide fluids, seek urgent vet help.", "prevention": "Routine vaccination." }, { "name": "Feline Worms", "signs": "Worms in stool, bloated belly, weight loss.", "first_aid": "Deworm every 2–3 months with Caniverm or Drontal Cat.", "prevention": "Consult a vet for correct dosage." }]},
                "chicken": { "title": "Chicken Care & Health", "feeding_management": "Provide chick mash for the first 8 weeks, then growers mash until week 18. Switch to layers mash when they start laying eggs. Ensure constant access to clean water. Keep the coop clean, dry, and well-ventilated to prevent diseases.", "diseases": [ { "name": "Newcastle Disease", "local_name": "Kideri", "signs": "Twisted neck, coughing, greenish diarrhea, paralysis of legs and wings.", "first_aid": "No cure. Isolate sick birds immediately. Call a vet.", "prevention": "Vaccinate chicks at day 7 and repeat as per vet's advice." }, { "name": "Fowl Pox", "local_name": "Ndui ya Kuku", "signs": "Pimple-like sores on combs, wattles, and face (dry form); yellow sores in mouth and throat (wet form).", "first_aid": "Isolate. Provide soft food and clean water. Add vitamins to water.", "prevention": "Vaccinate at 6-8 weeks." }, { "name": "Coccidiosis", "local_name": "Kuhara Damu", "signs": "Bloody droppings, ruffled feathers, loss of appetite, huddling together.", "first_aid": "Provide clean water with an anti-coccidial drug like Amprolium or ESB3.", "prevention": "Keep litter dry and clean. Use medicated starter feed." }]},
                "vaxiliv_reminder": { "title": "Vaxiliv Reminder", "content": "<strong>Healthy feeding, clean housing, and regular vet checkups prevent most illnesses.</strong> When something feels off — don’t guess, call your veterinarian first."}
            },
            "schedules": {
                "Dog": [ { "vaccine": "DHP", "duration": 6, "age": "6-8 Weeks" }, { "vaccine": "DHP + Lepto", "duration": 4, "age": "10-12 Weeks" }, { "vaccine": "Rabies", "duration": 4, "age": "16 Weeks" }, { "vaccine": "Annual Booster", "duration": 52, "age": "Yearly" }, { "vaccine": "Deworming", "duration": 12, "age": "Every 3 months", "recurring": true } ],
                "Cat": [ { "vaccine": "FVRCP (Core)", "duration": 8, "age": "8-9 Weeks" }, { "vaccine": "FVRCP (Booster)", "duration": 4, "age": "12-13 Weeks" }, { "vaccine": "Rabies", "duration": 4, "age": "16 Weeks" }, { "vaccine": "Annual Booster", "duration": 52, "age": "Yearly" }, { "vaccine": "Deworming", "duration": 12, "age": "Every 3 months", "recurring": true } ],
                "Cow": [ { "vaccine": "FMD", "duration": 12, "age": "From 3 months" }, { "vaccine": "LSD", "duration": 16, "age": "From 4 months" }, { "vaccine": "Anthrax & BQ", "duration": 24, "age": "From 6 months" }, { "vaccine": "Deworming", "duration": 16, "age": "Strategically", "recurring": true } ],
                "Goat": [ { "vaccine": "PPR", "duration": 16, "age": "From 4 months" }, { "vaccine": "CCPP", "duration": 12, "age": "From 3 months" }, { "vaccine": "Deworming", "duration": 14, "age": "Every 3-4 months", "recurring": true } ],
                "Sheep": [ { "vaccine": "PPR", "duration": 16, "age": "From 4 months" }, { "vaccine": "Sheep Pox", "duration": 12, "age": "From 3 months" }, { "vaccine": "Deworming", "duration": 14, "age": "Every 3-4 months", "recurring": true } ],
                "Chicken": [ { "vaccine": "Marek's", "duration": 0, "age": "Day 1" }, { "vaccine": "Newcastle+IB", "duration": 1, "age": "Day 7" }, { "vaccine": "Gumboro (1st)", "duration": 1, "age": "Day 14" }, { "vaccine": "Gumboro (2nd)", "duration": 1, "age": "Day 21" }, { "vaccine": "Fowl Pox", "duration": 4, "age": "Week 6-8" } ],
                "Pig": [ { "vaccine": "Deworming", "duration": 8, "age": "At 8 weeks", "recurring": true } ]
            }
          },
          "sw": {
            "tab_tips": "Afya", "tab_schedules": "Ratiba", "tab_locator": "Daktari", "tab_amr": "AMR", "tab_about": "Kuhusu Sisi",
            "modal_ok_button": "Sawa", "modal_close_button": "Funga", "modal_select_type": "Tafadhali chagua aina ya mnyama.", "modal_enter_name": "Tafadhali ingiza jina au nambari.", "modal_enter_dob": "Tafadhali ingiza tarehe sahihi.",
            "animal_name_placeholder": "k.m., Simba, Ng'ombe-01",
            "tips_title": "Maktaba ya Afya", "tips_subtitle": "Chagua mnyama kwa maelezo ya kina ya matunzo.",
            "health_tip_feeding": "Ulishaji na Usimamizi", "health_tip_diseases": "Magonjwa ya Kawaida", "health_tip_signs": "Dalili", "health_tip_first_aid": "Huduma ya Kwanza", "health_tip_prevention": "Kinga / Tiba",
            "reminders_title": "Vikumbusho vya Chanjo", "reminders_description": "Washa arifa kwa chanjo zijazo.",
            "reminders_enable_button": "Washa Arifa", "reminders_status_granted": "Arifa zimewashwa!", "reminders_status_denied": "Arifa zimezimwa. Tafadhali washa kwenye mipangilio ya kivinjari.",
            "reminders_no_upcoming": "Hakuna chanjo zijazo au zilizopitiliza.", "reminders_overdue": "Imechelewa", "reminders_due_in": "Imesalia siku", "reminders_days": "",
            "tracker_add_animal": "Ongeza Mnyama Kwenye Ratiba", "tracker_animal_category": "Aina ya Mnyama", "tracker_animal_type": "Kundi la Mnyama",
            "tracker_animal_name": "Jina / Nambari ya Mnyama", "tracker_animal_dob": "Tarehe ya Kuzaliwa", "tracker_add_button": "Ongeza Kwenye Ratiba",
            "schedules_general_title": "Ratiba za Jumla", "schedules_general_subtitle": "Mwongozo wa jumla wa chanjo na minyoo. Wasiliana na daktari wa mifugo kila wakati.",
            "cat_select_category": "Chagua Kundi", "cat_select_type": "Chagua Aina", "cat_prompt_select_category": "Kwanza, chagua kundi",
            "cat_small_animals": "Wanyama Wadogo (Posa)", "cat_large_animals": "Wanyama Wakubwa (Mifugo)", "cat_poultry": "Ndege",
            "animal_dog": "Mbwa", "animal_cat": "Paka", "animal_cow": "Ng'ombe", "animal_goat": "Mbuzi", "animal_pig": "Nguruwe", "animal_sheep": "Kondoo", "animal_chicken": "Kuku",
            "th_done": "Imekamilika", "th_vaccine": "Chanjo/Dawa Minyoo", "th_age": "Umri Unaopendekezwa", "th_due_date": "Tarehe ya Mwisho",
            "locator_title": "Tafuta Daktari", "locator_subtitle": "Pata huduma za mifugo karibu nawe.", "locator_map_loading": "Inatafuta...", "locator_call_button": "Piga Simu Sasa",
            "amr_title": "Ukinzani Dhidi ya Dawa (AMR)", "amr_quote": "“Dawa zinapoacha kufanya kazi — sote tunapoteza.”",
            "amr_intro": "Ukinzani dhidi ya dawa (AMR) inamaanisha dawa zinazotumika kutibu magonjwa — kama antibiotiki — haifanyi kazi tena ipasavyo. Nchini Kenya na Afrika nzima, hii ni tishio kubwa kwa maisha ya wanyama na binadamu. Antibiotiki zikitumiwa kupita kiasi au vibaya, vimelea hujifunza na kustahimili.",
            "amr_farm_title": "Shambani: AMR kwa Mifugo", "amr_farm_how_title": "Jinsi Inavyotokea",
            "amr_farm_how_list": "<li>Kuwapa wanyama antibiotiki wasizohitaji “ili tu kuzuia magonjwa.”</li><li>Kununua dawa kutoka kwa maduka ya agro-vet bila maagizo ya daktari.</li><li>Kutumia nusu dozi au kuacha dawa katikati mnyama anapoonekana kupata nafuu.</li><li>Kutumia dawa za binadamu kama amoxicillin au metronidazole kwa wanyama.</li><li>Kupuuzia muda wa kungoja kabla ya kuuza maziwa au nyama.</li>",
            "amr_farm_signs_title": "Utakachogundua",
            "amr_farm_signs_list": "<li>Mastitisi ya mara kwa mara kwa ng'ombe ambayo haiponi.</li><li>Nimonia au kuhara kwa mbuzi kunakojirudia.</li><li>Nguruwe na kuku kufa hata baada ya kubadilisha antibiotiki kadhaa.</li>",
            "amr_farm_what_to_do_title": "Unachoweza Kufanya",
            "amr_farm_what_to_do_list": "<li>Piga simu daktari amchunguze mnyama kabla ya matibabu.</li><li>Tumia tu antibiotiki za mifugo ulizoandikiwa.</li><li>Andika kila matibabu (jina la dawa, mnyama, dozi, na tarehe).</li><li>Dumisha usafi, toa dawa za minyoo, na chanjo — kinga ni bora.</li><li>Heshimu muda wa kungoja ili kuweka vyakula salama.</li>",
            "amr_pets_title": "Kwa Wanyama Posa: Mbwa na Paka", "amr_pets_mistakes_title": "Makosa ya Kawaida",
            "amr_pets_mistakes_list": "<li>Kuwapa wanyama dawa za binadamu zilizobaki.</li><li>Kutumia tena maagizo ya zamani ya daktari kwa magonjwa mapya.</li><li>Kutibu shida ndogo za ngozi na antibiotiki badala ya kuoga na kusafisha.</li>",
            "amr_pets_practices_title": "Njia Bora Zaidi",
            "amr_pets_practices_list": "<li>Mtunze mnyama mara kwa mara kwa kutumia shampuu za kienyeji.</li><li>Tafuta ushauri wa daktari kila wakati kabla ya kumpa dawa yoyote.</li><li>Hakikisha chanjo na dawa za minyoo ziko sasisho.</li>",
            "amr_one_health_title": "Uhusiano wa Afya Moja",
            "amr_one_health_p1": "Mfumo wa Afya Moja unatambua kuwa afya ya binadamu, wanyama, na mazingira ni kitu kimoja. Wakulima wanapotumia antibiotiki vibaya, mabaki huingia kwenye udongo na maji. Bakteria wale wale wanaweza kuwafikia wanadamu kupitia maziwa, nyama, mayai, au maji.",
            "amr_one_health_p2": "Mwishowe, vimelea sugu vilivyoanzia kwa mifugo vinaweza kuwaambukiza watu, na dawa tunazotegemea zinaacha kufanya kazi kwa kila mtu. Ndiyo maana madaktari wa mifugo, madaktari wa binadamu, maafisa wa mazingira, na wakulima lazima washirikiane.",
            "amr_vaxiliv_message_title": "Ujumbe wa Vaxiliv", "amr_vaxiliv_message_content": "“Wanyama wenye afya, watu wenye afya, sayari yenye afya — hiyo ndiyo Afya Moja.”",
            "about_title": "Dhamira Yetu",
            "about_quote": "“Kwa sababu tunapolinda wanyama, tunalinda familia, mifumo ya chakula, na mustakabali wetu.”",
            "about_intro": "Vaxiliv ilizaliwa kutokana na ukweli rahisi lakini muhimu — kwamba upatikanaji wa chanjo na huduma za afya za mifugo haupaswi kutegemea mahali unapoishi.",
            "about_section1_title": "Tatizo Tunalotatua",
            "about_section1_content": "Tulijenga jukwaa hili kuziba pengo kati ya wafugaji wa vijijini na msaada wa mifugo wanaostahili. Kama mtu ambaye ametembea njia za vumbi za kaunti za kaskazini mwa Kenya, nimeona jinsi magonjwa yanavyoweza kuangamiza mifugo yote — si kwa ukosefu wa huduma, bali kwa ukosefu wa ufikiaji. Vaxiliv ni jibu kwa ukweli huo.",
            "about_section2_title": "Dira na Ahadi Yetu",
            "about_section2_content": "Dira yetu ni kufanya ufuatiliaji wa chanjo, utoaji taarifa, na uhamasishaji kuwa rahisi — kwa kutumia teknolojia ambayo ni rahisi kwa kila mkulima, lakini yenye nguvu kwa wataalamu wa mifugo. Kila mstari wa msimbo hapa unaongozwa na huruma, sayansi, na imani kwamba uvumbuzi unaweza kulinda maisha.",
            "about_vaxiliv_message_title": "Vaxiliv ni Wito",
            "about_vaxiliv_message_content": "Ni mchango wetu kwa siku zijazo ambapo hakuna mkulima atakayeachwa nyuma, na maisha ya kila mnyama ni muhimu.",
            "healthTips": {
                "cow": { "title": "Utunzaji na Afya ya Ng'ombe", "feeding_management": "Ng'ombe mwenye afya huanza na ulishaji sahihi. Ng'ombe wa kilo 400 anahitaji kilo 12 za chakula kikavu kila siku. Changanya majani ya napier, lucerne, desmodium, na dairy meal. Mpe lita 40-60 za maji safi na chumvi ya madini. Weka banda safi na puliza dawa ya kupe kila wiki.", "diseases": [ { "name": "Homa ya Pwani (ECF)", "local_name": "Ndigana kali", "signs": "Homa kali, kuvimba kwa tezi, kupumua kwa shida, macho kutoa maji, kukosa hamu ya kula.", "first_aid": "Mpeleke kivulini, mpe maji safi, na piga simu daktari haraka kwa ajili ya Butalex.", "prevention": "Udhibiti wa kupe mara kwa mara na chanjo." }, { "name": "Ugonjwa wa Miguu na Midomo (FMD)", "local_name": "Mdomo na kwato", "signs": "Kudondosha mate, malengelenge mdomoni, kwenye viwele na miguuni, kukataa kutembea.", "first_aid": "Mtenganishe, safisha maeneo ya kulishia, mpe chakula laini.", "prevention": "Chanjo kila baada ya miezi 6-12." }, { "name": "Anaplasmosis", "local_name": "Mafua ya damu", "signs": "Udhaifu wa ghafla, macho kuwa ya manjano, homa, mkojo wa rangi ya kahawia.", "first_aid": "Mweke mtulivu, kivulini, mpe maji. Wasiliana na daktari mara moja.", "prevention": "Udhibiti thabiti wa kupe." }]},
                "sheep_goat": { "title": "Utunzaji wa Kondoo na Mbuzi", "feeding_management": "Mbuzi hula vichaka kama Leucaena; kondoo wanapendelea nyasi za Boma Rhodes. Ongeza pumba za mahindi au mashudu ya pamba kwa ukuaji. Wape chumvi ya madini na maji safi. Mabanda yawe makavu na yaliyoinuliwa. Wape dawa ya minyoo kila baada ya miezi 2-3.", "diseases": [ { "name": "Mkong'oto wa Mbuzi na Kondoo (PPR)", "local_name": "Kideri cha mbuzi", "signs": "Homa kali, mafua, vidonda mdomoni, kukohoa, kuhara.", "first_aid": "Mtenganishe, mpe maji ya kunywa, chakula laini, na mweke mahali pa joto.", "prevention": "Chanjo ya kila mwaka." }, { "name": "Homa ya Mapafu ya Mbuzi (CCPP)", "local_name": "Homa ya mapafu ya mbuzi", "signs": "Kukohoa, kupumua kwa shida, mafua puani.", "first_aid": "Mweke kivulini na mtulize. Tiba ya daktari: tylosin.", "prevention": "Chanjo na uingizaji hewa mzuri." }, { "name": "Ugonjwa wa Minyoo", "signs": "Kupungua uzito, manyoya kuwa machafu, ufizi mweupe, uvimbe chini ya taya.", "first_aid": "Wape dawa ya minyoo kila miezi 2-3 kama Alfabas, Levacide, n.k.", "prevention": "Hakikisha malisho na maji ni safi." }]},
                "pig": { "title": "Utunzaji na Afya ya Nguruwe", "feeding_management": "Lisha nguruwe 5-7% ya uzito wao kila siku: pumba za mahindi + unga wa samaki + unga wa soya. Wape lita 10-15 za maji safi. Weka mabanda makavu, ya joto, na safisha kwa dawa kila wiki. Wape dawa ya minyoo kila robo mwaka.", "diseases": [ { "name": "Homa ya Nguruwe ya Afrika (ASF)", "local_name": "Homa kali ya nguruwe", "signs": "Kifo cha ghafla, homa kali, masikio mekundu, kutapika, kuhara damu.", "first_aid": "Hakuna tiba — mtenganishe mara moja na piga simu kwa mamlaka ya mifugo.", "prevention": "Usalama mkali wa kibayolojia; usilishe mabaki ya chakula." }, { "name": "Ugonjwa wa Minyoo", "signs": "Ukuaji duni, ngozi mbaya, tumbo kubwa, kuhara.", "first_aid": "Mpe dawa ya minyoo kama Albendazole au Levamisole.", "prevention": "Safisha mabanda kila siku." }]},
                "dog": { "title": "Utunzaji na Afya ya Mbwa", "feeding_management": "Mlishe mara mbili kwa siku: wali uliopikwa, ugali, au chakula cha mbwa na nyama na mboga. Mpe maji safi kila siku. Muogeshe mara mbili kwa mwezi, chana manyoya kila wiki, na mpe dawa ya minyoo kila baada ya miezi 3.", "diseases": [ { "name": "Homa ya Kupe", "local_name": "Mafua ya kuumwa na kupe", "signs": "Homa ya kudumu, kukosa hamu ya kula, ufizi mweupe, kutoka damu puani.", "first_aid": "Mpe maji ya kutosha, mweke mahali pa baridi na mtulivu.", "prevention": "Daktari atampa doxycycline. Tumia dawa za kuoga za kupe na kola." }, { "name": "Parvovirus", "signs": "Kutapika sana, kuhara damu kunukayo vibaya, upungufu wa maji mwilini.", "first_aid": "Mweke joto, mpe maji, na muone daktari haraka.", "prevention": "Chanjo watoto wa mbwa kuanzia wiki 6-8." }, { "name": "Kichaa cha Mbwa", "signs": "Mabadiliko ya ghafla ya tabia, kudondosha mate, ukali, kupooza.", "first_aid": "Usimkaribie — mtenganishe na mjulishe daktari.", "prevention": "Chanjo ya kila mwaka." }]},
                "cat": { "title": "Utunzaji na Afya ya Paka", "feeding_management": "Mlishe paka mara mbili kwa siku na samaki au nyama iliyochanganywa na ugali au wali. Mpe maji safi ya kunywa. Chana manyoya kila wiki na weka sanduku la mchanga safi.", "diseases": [ { "name": "Mafua ya Paka", "signs": "Kupiga chafya, mafua, macho kutoa maji, kukosa hamu ya kula.", "first_aid": "Futa pua na macho kwa maji ya chumvi, mpe chakula laini, mweke joto.", "prevention": "Chanjo ya kila mwaka ya FVRCP." }, { "name": "Feline Panleukopenia", "signs": "Kutapika, kuhara damu, homa kali, upungufu wa maji, kifo cha ghafla.", "first_aid": "Mweke joto, mpe maji, na tafuta msaada wa daktari haraka.", "prevention": "Chanjo ya kawaida." }, { "name": "Minyoo ya Paka", "signs": "Minyoo kwenye kinyesi, tumbo kuvimba, kupungua uzito.", "first_aid": "Mpe dawa ya minyoo kila miezi 2-3 kama Caniverm au Drontal Cat.", "prevention": "Wasiliana na daktari kwa dozi sahihi." }]},
                "chicken": { "title": "Utunzaji na Afya ya Kuku", "feeding_management": "Wape kuku 'chick mash' kwa wiki 8 za kwanza, kisha 'growers mash' hadi wiki ya 18. Badilisha hadi 'layers mash' wanapoanza kutaga. Hakikisha wanapata maji safi wakati wote. Weka banda safi, kavu, na lenye hewa ya kutosha kuzuia magonjwa.", "diseases": [ { "name": "Ugonjwa wa Kideri", "local_name": "Kideri", "signs": "Kupinda shingo, kukohoa, kuhara rangi ya kijani, kupooza miguu na mabawa.", "first_aid": "Hakuna tiba. Tenga ndege wagonjwa mara moja. Piga simu daktari.", "prevention": "Chanjo vifaranga siku ya 7 na rudia kulingana na ushauri wa daktari." }, { "name": "Ndui ya Kuku", "local_name": "Ndui ya Kuku", "signs": "Vipele kwenye upanga na masikio (aina kavu); vidonda vya njano mdomoni na kooni (aina ya maji).", "first_aid": "Tenga. Wape chakula laini na maji safi. Ongeza vitamini kwenye maji.", "prevention": "Chanjo wiki ya 6-8." }, { "name": "Kuhara Damu", "local_name": "Kuhara Damu", "signs": "Kinyesi cha damu, manyoya yaliyovurugika, kukosa hamu ya kula, kujikusanya pamoja.", "first_aid": "Wape maji safi yenye dawa ya coccidiosis kama Amprolium au ESB3.", "prevention": "Weka sakafu kavu na safi. Tumia chakula cha kuanzia chenye dawa." }]},
                "vaxiliv_reminder": { "title": "Ukumbusho wa Vaxiliv", "content": "<strong>Ulishaji bora, mabanda safi, na uchunguzi wa daktari wa mara kwa mara huzuia magonjwa mengi.</strong> Unapoona kitu si sawa — usikisie, piga simu daktari wako kwanza."}
            },
            "schedules": {
                "Dog": [ { "vaccine": "DHP", "duration": 6, "age": "Wiki 6-8" }, { "vaccine": "DHP + Lepto", "duration": 4, "age": "Wiki 10-12" }, { "vaccine": "Kichaa cha Mbwa", "duration": 4, "age": "Wiki 16" }, { "vaccine": "Chanjo ya Mwaka", "duration": 52, "age": "Kila Mwaka" }, { "vaccine": "Dawa ya Minyoo", "duration": 12, "age": "Kila miezi 3", "recurring": true } ],
                "Cat": [ { "vaccine": "FVRCP (Msingi)", "duration": 8, "age": "Wiki 8-9" }, { "vaccine": "FVRCP (Nyongeza)", "duration": 4, "age": "Wiki 12-13" }, { "vaccine": "Kichaa cha Mbwa", "duration": 4, "age": "Wiki 16" }, { "vaccine": "Chanjo ya Mwaka", "duration": 52, "age": "Kila Mwaka" }, { "vaccine": "Dawa ya Minyoo", "duration": 12, "age": "Kila miezi 3", "recurring": true } ],
                "Cow": [ { "vaccine": "FMD", "duration": 12, "age": "Kutoka miezi 3" }, { "vaccine": "LSD", "duration": 16, "age": "Kutoka miezi 4" }, { "vaccine": "Kimeta & Chambavu", "duration": 24, "age": "Kutoka miezi 6" }, { "vaccine": "Dawa ya Minyoo", "duration": 16, "age": "Kimkakati", "recurring": true } ],
                "Goat": [ { "vaccine": "PPR", "duration": 16, "age": "Kutoka miezi 4" }, { "vaccine": "CCPP", "duration": 12, "age": "Kutoka miezi 3" }, { "vaccine": "Dawa ya Minyoo", "duration": 14, "age": "Kila miezi 3-4", "recurring": true } ],
                "Sheep": [ { "vaccine": "PPR", "duration": 16, "age": "Kutoka miezi 4" }, { "vaccine": "Ndui ya Kondoo", "duration": 12, "age": "Kutoka miezi 3" }, { "vaccine": "Dawa ya Minyoo", "duration": 14, "age": "Kila miezi 3-4", "recurring": true } ],
                "Chicken": [ { "vaccine": "Marek's", "duration": 0, "age": "Siku 1" }, { "vaccine": "Newcastle+IB", "duration": 1, "age": "Siku 7" }, { "vaccine": "Gumboro (1)", "duration": 1, "age": "Siku 14" }, { "vaccine": "Gumboro (2)", "duration": 1, "age": "Siku 21" }, { "vaccine": "Ndui ya Kuku", "duration": 4, "age": "Wiki 6-8" } ],
                "Pig": [ { "vaccine": "Dawa ya Minyoo", "duration": 8, "age": "Wiki 8", "recurring": true } ]
            }
          },
          "so": {
            "tab_tips": "Caafimaadka", "tab_schedules": "Jadwalka", "tab_locator": "Raadi Dhakhtar", "tab_amr": "AMR", "tab_about": "Nagu Saabsan",
            "modal_ok_button": "Hagaag", "modal_close_button": "Xir", "modal_select_type": "Fadlan dooro nooca xoolaha.", "modal_enter_name": "Fadlan geli magac ama aqoonsi.", "modal_enter_dob": "Fadlan geli taariikh sax ah.",
            "animal_name_placeholder": "tusaale, Libaax, Lo'-01",
            "tips_title": "Maktabadda Caafimaadka", "tips_subtitle": "Dooro xayawaan si aad u hesho macluumaad faahfaahsan oo daryeel ah.",
            "health_tip_feeding": "Quudinta & Maareynta", "health_tip_diseases": "Cudurrada Guud", "health_tip_signs": "Calaamadaha", "health_tip_first_aid": "Gargaarka Degdegga ah", "health_tip_prevention": "Ka Hortagga / Daaweynta",
            "reminders_title": "Xusuusinta Tallaalka", "reminders_description": "Furo ogeysiisyada tallaalada soo socda.",
            "reminders_enable_button": "Furo Ogeysiisyada", "reminders_status_granted": "Ogeysiisyada waa la furay!", "reminders_status_denied": "Ogeysiisyada waa la diiday. Fadlan ka fur goobaha biraawsarka.",
            "reminders_no_upcoming": "Ma jiraan tallaalo soo socda ama kuwa dib u dhacay.", "reminders_overdue": "Dib u dhacay", "reminders_due_in": "Waxa ku eg", "reminders_days": "maalmood",
            "tracker_add_animal": "Ku dar Xayawaan Jadwalkayga", "tracker_animal_category": "Qaybta Xayawaanka", "tracker_animal_type": "Nooca Xayawaanka",
            "tracker_animal_name": "Magaca / Aqoonsiga Xayawaanka", "tracker_animal_dob": "Taariikhda Dhalashada", "tracker_add_button": "Ku dar Jadwalkayga",
            "schedules_general_title": "Jadwalka Guud", "schedules_general_subtitle": "Tilmaamaha guud ee tallaalka iyo daaweynta gooryaanka. Had iyo jeer la tasho dhakhtar xoolaad.",
            "cat_select_category": "Dooro Qayb", "cat_select_type": "Dooro Nooc", "cat_prompt_select_category": "Marka hore, dooro qayb",
            "cat_small_animals": "Xayawaanada Yaryar (Gurijoog)", "cat_large_animals": "Xayawaanada Waaweyn (Xoolo)", "cat_poultry": "Digaagga",
            "animal_dog": "Ey", "animal_cat": "Bisad", "animal_cow": "Lo'", "animal_goat": "Ri", "animal_pig": "Doofaar", "animal_sheep": "Ido", "animal_chicken": "Digaag",
            "th_done": "La Qabtay", "th_vaccine": "Tallaal/Daawo Gooryaan", "th_age": "Dada Lagu Taliyey", "th_due_date": "Taariikhda la rabo",
            "locator_title": "Raadi Dhakhtar", "locator_subtitle": "Ka hel adeegyada caafimaadka xoolaha meel kuu dhow.", "locator_map_loading": "Goobid...", "locator_call_button": "Wac Hadda",
            "amr_title": "Iska-caabbinta Daawooyinka (AMR)", "amr_quote": "“Marka daawooyinku shaqayn waayaan — dhammaanteen waan khasaarnaa.”",
            "amr_intro": "Iska-caabbinta Daawooyinka (AMR) waxay ka dhigan tahay in daawooyinka loo isticmaalo in lagu daweeyo caabuqyada — sida antibiyootiga — aysan si wax ku ool ah u shaqaynayn. Kenya iyo guud ahaan Afrika, tani waa khatar weyn oo ku wajahan nolosha xoolaha iyo tan aadanaha. Marka antibiyootiga si xad dhaaf ah loo isticmaalo ama si qaldan loo isticmaalo, jeermisku wuu la qabsadaa oo wuxuu bartaa sida loo badbaado.",
            "amr_farm_title": "Beeraha Dhexdeeda: AMR ee Xoolaha", "amr_farm_how_title": "Sida ay u Dhacdo",
            "amr_farm_how_list": "<li>In xoolaha la siiyo antibiyootig aysan u baahnayn “si looga hortago cudur.”</li><li>Iibsashada daawooyinka dukaamada agro-vet-ka iyada oo aan warqad dhakhtar loo haysan.</li><li>Isticmaalka qiyaaso nus ah ama la joojiyo daawada badhtanka marka xooluhu fiicnaadaan.</li><li>Isticmaalka daawooyinka dadka sida amoxicillin, metronidazole, ama ampicillin ee xoolaha.</li><li>Iska indhatirka muddada ka-noqoshada ka hor inta aan la iibin caanaha ama hilibka.</li>",
            "amr_farm_signs_title": "Maxaad Arki Doontaa",
            "amr_farm_signs_list": "<li>Candhada oo ku soo noqnoqota lo'da oo aan ka jawaabin daaweynta.</li><li>Oof-wareenka ama shubanka riyaha oo soo noqnoqda.</li><li>Doofaarka iyo digaagga oo dhimanaya xitaa ka dib marka la beddelo dhowr antibiyootig.</li>",
            "amr_farm_what_to_do_title": "Maxaad Samayn Kartaa",
            "amr_farm_what_to_do_list": "<li>Wac dhakhtar xoolaad si uu u baaro xoolaha ka hor daaweynta.</li><li>Isticmaal kaliya antibiyootiga xoolaha ee laguu qoray.</li><li>Diiwaangeli daaweyn kasta (magaca daawada, xoolaha, qiyaasta, iyo taariikhda).</li><li>Ilaali nadaafadda, si joogto ah u gooryaan-dil, oo tallaal — ka-hortaggu waa muhiim.</li><li>Ixtiraam muddada ka-noqoshada si cuntadu u ahaato mid badqabta.</li>",
            "amr_pets_title": "Xayawaanka Guriga: Eeyaha iyo Bisadaha", "amr_pets_mistakes_title": "Khadalada Guud",
            "amr_pets_mistakes_list": "<li>La wadaagidda daawooyinka dadka ee hadhay xayawaankaaga.</li><li>Dib u isticmaalka warqadihii hore ee dhakhtarka xoolaha ee cudurro cusub.</li><li>Ku daawaynta dhibaatooyinka maqaarka ee yar yar antibiyootig halkii aad ka maydhi lahayd oo aad nadiifin lahayd.</li>",
            "amr_pets_practices_title": "Hababka Wanaagsan",
            "amr_pets_practices_list": "<li>Si joogto ah u qurxi adigoo isticmaalaya shaambooyinka deegaanka.</li><li>Had iyo jeer raadso fikirka dhakhtarka xoolaha ka hor intaadan siin wax daawo ah.</li><li>Ku hay tallaalka iyo gooryaan-dilka mid casri ah.</li>",
            "amr_one_health_title": "Xiriirka Hal Caafimaad",
            "amr_one_health_p1": "Habka Hal Caafimaad wuxuu aqoonsan yahay in caafimaadka dadka, xoolaha, iyo deegaanku ay isku mid yihiin. Marka beeralaydu si qaldan u isticmaalaan antibiyootiga, hadhaagu wuxuu u daataa ciidda iyo biyaha. Bakteeriyadaas isku midka ah waxay gaari kartaa dadka iyada oo loo marayo caanaha, hilibka, ukunta, biyaha, ama qashinka beeraha.",
            "amr_one_health_p2": "Ugu dambeyntii, jeermisyada iska-caabinta leh ee ka bilaabmay xoolaha waxay ku dhici karaan dadka, daawooyinka aan ku tiirsanahayna way joojiyaan inay u shaqeeyaan qof walba. Taasi waa sababta ay dhakhaatiirta xoolaha, dhakhaatiirta dadka, saraakiisha deegaanka, iyo beeralaydu ay tahay inay wada shaqeeyaan.",
            "amr_vaxiliv_message_title": "Farriinta Vaxiliv", "amr_vaxiliv_message_content": "“Xayawaan caafimaad qaba, dad caafimaad qaba, meere caafimaad qaba — taasi waa Hal Caafimaad.”",
            "about_title": "Hadafkayaga",
            "about_quote": "“Sababtoo ah marka aan ilaalino xoolaha, waxaan ilaalinaa qoysaska, nidaamyada cuntada, iyo mustaqbalka.”",
            "about_intro": "Vaxiliv waxa ay ka dhalatay run fudud laakiin degdeg ah — in helitaanka tallaalka xoolaha iyo adeegyada caafimaadka xooluhu aysan ku xirnaan meesha aad ku nooshahay.",
            "about_section1_title": "Dhibaatada aan Xallino",
            "about_section1_content": "Waxaan dhisnay madalkan si aan u buuxino farqiga u dhexeeya xoolo-dhaqatada reer miyiga ah iyo taageerada caafimaadka xoolaha ee ay u qalmaan. Anigoo ah qof ku soo dhex lugeeyay waddooyinka boodhka leh ee gobollada waqooyi ee Kenya, waxaan arkay sida cudurku u tirtiri karo adhyo dhan — maaha daryeel la'aan, laakiin waa helitaan la'aan. Vaxiliv waxay u taagan tahay jawaabta xaqiiqadaas.",
            "about_section2_title": "Aragtidayada & Ballanqaadkayaga",
            "about_section2_content": "Aragtidayadu waa inaan ka dhigno la socodka tallaalka, warbixinta, iyo wacyigelinta mid fudud — iyadoo la isticmaalayo tiknoolajiyad ku filan beeralay kasta, haddana awood ku filan xirfadlayaasha caafimaadka xoolaha. Koodh kasta oo halkan ku yaal waxaa hagaya naxariis, saynis, iyo aaminaad ah in hal-abuurku ilaalin karo nolosha.",
            "about_vaxiliv_message_title": "Vaxiliv waa Yeedhmo",
            "about_vaxiliv_message_content": "Waa ka qayb qaadashadayada mustaqbal aan beeralayna looga tagin, nolosha xoolo kastana ay muhiim tahay.",
            "healthTips": {
                "cow": { "title": "Daryeelka & Caafimaadka Lo'da", "feeding_management": "Lo'da caafimaadka qabta waxay ka bilaabataa quudin habboon. Sac 400 kg ah wuxuu u baahan yahay 12 kg oo walax qalalan maalin kasta. Isku qas cawska Napier, lucerne, desmodium, iyo daqiiqda caanaha. Sii 40-60 L oo biyo nadiif ah iyo macdanta. Guryaha ka dhig kuwo nadiif ah oo toddobaad kasta ku buufi shilinta.", "diseases": [ { "name": "Qandhada Xeebta Bari (ECF)", "local_name": "", "signs": "Qandho sare, qanjidhada oo barara, neefsashada oo ku adkaata, indhaha oo ilmeeya, cunto xumo.", "first_aid": "U rari hoos, sii biyo nadiif ah, oo si degdeg ah u wac dhakhtar si aad u hesho Butalex.", "prevention": "Xakameynta shilinta joogtada ah iyo tallaalka." }, { "name": "Cudurka Cagaha iyo Afka (FMD)", "local_name": "", "signs": "Candhuuf badan, nabarro afka, naasaha, iyo cagaha ka soo baxa, diidmada socodka.", "first_aid": "Go'doomi, jeermi-dil meelaha lagu quudiyo, sii cunto jilicsan.", "prevention": "Tallaal 6-12 bilood kasta." }, { "name": "Anaplasmosis", "local_name": "", "signs": "Tabar-darro degdeg ah, indhaha oo jaale noqda, qandho, kaadi madow-brown ah.", "first_aid": "Xayawaanka deji, hoos geli, sii biyo. Si degdeg ah ula xiriir dhakhtar.", "prevention": "Xakameyn joogto ah oo shilinta." }]},
                "sheep_goat": { "title": "Daryeelka Idaha & Riyaha", "feeding_management": "Riyuhu waxay daaqaan geedaha sida Leucaena; iduhu waxay doorbidaan cawska Boma Rhodes. Ku dar buunshaha galleyda ama keega cudbiga si ay u koraan. Sii cusbo iyo biyo nadiif ah. Guryuhu waa inay ahaadaan kuwo qalalan oo kor loo qaaday. Gooryaan-dil 2-3 bilood kasta.", "diseases": [ { "name": "Peste des Petits Ruminants (PPR)", "local_name": "", "signs": "Qandho sare, san-dheecaan, nabarro afka, qufac, shuban.", "first_aid": "Go'doomi, sii fuuq-celin afka ah, cunto jilicsan, diirran.", "prevention": "Tallaal sanadle ah." }, { "name": "Oof-wareenka Riyaha ee la is qaadsiiyo (CCPP)", "local_name": "", "signs": "Qufac, neefsashada oo ku adkaata, san-dheecaan.", "first_aid": "Hoos geli oo deji riyaha. Daaweynta dhakhtarka: tylosin.", "prevention": "Tallaal iyo hawo wanaagsan." }, { "name": "Caabuqa Gooryaanka", "signs": "Miisaanka oo yaraada, dhogor qallafsan, cirid cirro leh, daanka oo barara.", "first_aid": "Gooryaan-dil 2-3 bilood kasta adigoo isticmaalaya Alfabas, Levacide, iwm.", "prevention": "Hubi daaq nadiif ah iyo biyo." }]},
                "pig": { "title": "Daryeelka & Caafimaadka Doofaarka", "feeding_management": "Quudi doofaarka 5-7% miisaankooda maalin kasta: buunshaha galleyda + cuntada kalluunka + cuntada soyada. Sii 10-15 L oo biyo nadiif ah. Guryaha ka dhig kuwo qalalan, diirran, oo toddobaad kasta jeermi-dil. Gooryaan-dil saddexdii biloodba mar.", "diseases": [ { "name": "Qandhada Doofaarka Afrika (ASF)", "local_name": "", "signs": "Dhimasho degdeg ah, qandho sare, dhego guduudan, matag, shuban dhiig leh.", "first_aid": "Daawo ma leh — isla markiiba go'doomi oo wac mas'uuliyiinta caafimaadka xoolaha.", "prevention": "Badqabka noole ee adag; waligaa ha quudin hadhaaga cuntada." }, { "name": "Caabuqa Gooryaanka", "signs": "Koris liita, maqaar qallafsan, calool weyn, shuban.", "first_aid": "Ku gooryaan-dil Albendazole ama Levamisole.", "prevention": "Nadiifi guryaha maalin kasta." }]},
                "dog": { "title": "Daryeelka & Caafimaadka Eyda", "feeding_management": "Quudi laba jeer maalintii: bariis la kariyey, soor, ama cunto ey oo hilib iyo khudaar leh. Sii biyo nadiif ah maalin kasta. Maydh laba jeer bishii, caday dhogorta toddobaad kasta, oo gooryaan-dil 3 bilood kasta.", "diseases": [ { "name": "Qandhada Shilinta", "local_name": "", "signs": "Qandho joogto ah, cunto xumo, cirid cirro leh, san-dhiig.", "first_aid": "Fuuqan, qabooji, oo deji.", "prevention": "Dhakhtarku wuxuu qori doonaa doxycycline. Isticmaal qubeyska shilinta iyo katiinadaha." }, { "name": "Parvovirus", "signs": "Matag daran, shuban dhiig leh oo ur xun, fuuqbax.", "first_aid": "Diirran, sii fuuq-celin afka ah, si degdeg ah u arag dhakhtar.", "prevention": "Tallaal ilmaha eeyda 6-8 toddobaad." }, { "name": "Rabies", "signs": "Isbeddel dabeecadeed oo degdeg ah, candhuuf badan, gardarro, curyaan.", "first_aid": "Ha taaban — go'doomi oo ogeysii dhakhtar.", "prevention": "Tallaal sanadle ah." }]},
                "cat": { "title": "Daryeelka & Caafimaadka Bisadaha", "feeding_management": "Quudi bisadaha laba jeer maalintii kalluun ama hilib lagu qasay soor ama bariis. Sii biyo nadiif ah. Caday dhogorta toddobaad kasta oo nadiifi sanduuqa qashinka.", "diseases": [ { "name": "Hargabka Bisadaha", "signs": "Hindhiso, san-dheecaan, indho ilmeeya, cunto xumo.", "first_aid": "Sanka & indhaha ku masax milix, sii cunto jilicsan, diirran.", "prevention": "Tallaalka sanadlaha ah ee FVRCP." }, { "name": "Feline Panleukopenia", "signs": "Matag, shuban dhiig leh, qandho sare, fuuqbax, dhimasho degdeg ah.", "first_aid": "Diirran, sii dareere, si degdeg ah u raadso caawimaad dhakhtar.", "prevention": "Tallaal joogto ah." }, { "name": "Gooryaanka Bisadaha", "signs": "Gooryaan saxarada ku jira, calool bararsan, miisaanka oo yaraada.", "first_aid": "Gooryaan-dil 2-3 bilood kasta adigoo isticmaalaya Caniverm ama Drontal Cat.", "prevention": "La tasho dhakhtar si aad u hesho qiyaasta saxda ah." }]},
                "chicken": { "title": "Daryeelka & Caafimaadka Digaagga", "feeding_management": "Sii cuntada 'chick mash' 8-da toddobaad ee hore, ka dibna 'growers mash' ilaa toddobaadka 18-aad. U beddel 'layers mash' markay bilaabaan inay ukumo dhalaan. Hubi inay helaan biyo nadiif ah mar walba. Guriga ka dhig mid nadiif ah, qalalan, oo hawo leh si looga hortago cudurrada.", "diseases": [ { "name": "Cudurka Newcastle", "local_name": "", "signs": "Qoor-maroojin, qufac, shuban cagaaran, lugaha iyo baalasha oo curyaan noqda.", "first_aid": "Daawo ma leh. Si degdeg ah u go'doomi shimbiraha buka. Wac dhakhtar.", "prevention": "Tallaal digaagga maalinta 7-aad kuna celi sida uu dhakhtarku kugula taliyo." }, { "name": "Furuqa Digaagga", "local_name": "", "signs": "Nabarro fin-u-eg oo ka soo baxa shanlada iyo wajiga (nooca qalalan); nabarro jaalle ah oo afka iyo dhuunta ka soo baxa (nooca qoyan).", "first_aid": "Go'doomi. Sii cunto jilicsan iyo biyo nadiif ah. Ku dar fiitamiino biyaha.", "prevention": "Tallaal 6-8 toddobaad." }, { "name": "Coccidiosis", "local_name": "", "signs": "Saxaro dhiig leh, baalal qasan, cunto xumo, isku ururid.", "first_aid": "Sii biyo nadiif ah oo ay ku jirto daawo ka hortagta coccidiosis sida Amprolium ama ESB3.", "prevention": "Qashinka ka dhig mid qalalan oo nadiif ah. Isticmaal cunto bilow ah oo daawo leh." }]},
                "vaxiliv_reminder": { "title": "Xusuusin Vaxiliv", "content": "<strong>Quudinta caafimaadka leh, guryaha nadiifka ah, iyo baaritaannada joogtada ah ee dhakhtarku waxay ka hortagaan cudurrada badankood.</strong> Marka wax qaldan dareento — ha malayn, marka hore wac dhakhtarkaaga xoolaha."}
            },
            "schedules": {
                "Dog": [ { "vaccine": "DHP", "duration": 6, "age": "6-8 Toddobaad" }, { "vaccine": "DHP + Lepto", "duration": 4, "age": "10-12 Toddobaad" }, { "vaccine": "Rabies", "duration": 4, "age": "16 Toddobaad" }, { "vaccine": "Tallaalka Sanadlaha", "duration": 52, "age": "Sannad kasta" }, { "vaccine": "Gooryaan-dil", "duration": 12, "age": "3dii Biloodba mar", "recurring": true } ],
                "Cat": [ { "vaccine": "FVRCP (Aasaasi)", "duration": 8, "age": "8-9 Toddobaad" }, { "vaccine": "FVRCP (Xoojin)", "duration": 4, "age": "12-13 Toddobaad" }, { "vaccine": "Rabies", "duration": 4, "age": "16 Toddobaad" }, { "vaccine": "Tallaalka Sanadlaha", "duration": 52, "age": "Sannad kasta" }, { "vaccine": "Gooryaan-dil", "duration": 12, "age": "3dii Biloodba mar", "recurring": true } ],
                "Cow": [ { "vaccine": "FMD", "duration": 12, "age": "Laga bilaabo 3 bilood" }, { "vaccine": "LSD", "duration": 16, "age": "Laga bilaabo 4 bilood" }, { "vaccine": "Anthrax & BQ", "duration": 24, "age": "Laga bilaabo 6 bilood" }, { "vaccine": "Gooryaan-dil", "duration": 16, "age": "Istaraatiiji ahaan", "recurring": true } ],
                "Goat": [ { "vaccine": "PPR", "duration": 16, "age": "Laga bilaabo 4 bilood" }, { "vaccine": "CCPP", "duration": 12, "age": "Laga bilaabo 3 bilood" }, { "vaccine": "Gooryaan-dil", "duration": 14, "age": "3-4 bilood kasta", "recurring": true } ],
                "Sheep": [ { "vaccine": "PPR", "duration": 16, "age": "Laga bilaabo 4 bilood" }, { "vaccine": "Furuqa Idaha", "duration": 12, "age": "Laga bilaabo 3 bilood" }, { "vaccine": "Gooryaan-dil", "duration": 14, "age": "3-4 bilood kasta", "recurring": true } ],
                "Chicken": [ { "vaccine": "Marek's", "duration": 0, "age": "Maalinta 1aad" }, { "vaccine": "Newcastle+IB", "duration": 1, "age": "Maalinta 7aad" }, { "vaccine": "Gumboro (1aad)", "duration": 1, "age": "Maalinta 14aad" }, { "vaccine": "Gumboro (2aad)", "duration": 1, "age": "Maalinta 21aad" }, { "vaccine": "Furuqa Digaagga", "duration": 4, "age": "Toddobaadka 6-8" } ],
                "Pig": [ { "vaccine": "Gooryaan-dil", "duration": 8, "age": "8 toddobaad", "recurring": true } ]
            }
          }
        };

        const vetsData = [ { "name": "The KSPCA Vet Clinic", "coords": [-1.3326, 36.7844], "tel": "+254733622440", "address": "Lang'ata South Road, Nairobi" }, { "name": "Small Five Vet Clinic", "coords": [-1.2838, 36.7844], "tel": "+254722519148", "address": "Kilimani, Nairobi" }, { "name": "Andys Veterinary Clinic", "coords": [-1.3005, 36.7628], "tel": "+254722521799", "address": "Ngong Road, Nairobi" }, { "name": "Hardy Veterinary Clinic", "coords": [-1.3499, 36.7501], "tel": "+254733600988", "address": "Karen, Nairobi" }, { "name": "Parklands Veterinary Clinic", "coords": [-1.2655, 36.8222], "tel": "+254722706691", "address": "Parklands, Nairobi" }, { "name": "Eastlands Pet Clinic", "coords": [-1.2950, 36.8858], "tel": "+254722898950", "address": "Donholm, Nairobi" }, { "name": "Thika Animal Care", "coords": [-1.0473, 37.0782], "tel": "+254711223344", "address": "Thika Town, Kiambu" }, { "name": "Ruiru Vet Clinic", "coords": [-1.1444, 36.9689], "tel": "+254721899908", "address": "Ruiru, Kiambu" }, { "name": "Nakuru Veterinary Centre", "coords": [-0.2833, 36.0667], "tel": "+254722759528", "address": "Nakuru CBD, Nakuru" }, { "name": "Naivasha Veterinary Services", "coords": [-0.7167, 36.4333], "tel": "+254722868282", "address": "Naivasha, Nakuru" }, { "name": "Mombasa Pet Clinic", "coords": [-4.0333, 39.6833], "tel": "+254722416597", "address": "Nyali, Mombasa" }, { "name": "Kenya Veterinary Association - Coast", "coords": [-4.0500, 39.6667], "tel": "+254722784010", "address": "Mombasa CBD, Mombasa" }, { "name": "Kisumu Veterinary Clinic", "coords": [-0.0917, 34.7680], "tel": "+254722795808", "address": "Kisumu CBD, Kisumu" }, { "name": "Eldoret Veterinary Services", "coords": [0.5204, 35.2699], "tel": "+254722851880", "address": "Eldoret Town, Uasin Gishu" }, { "name": "Machakos Veterinary Clinic", "coords": [-1.5167, 37.2667], "tel": "+254722898950", "address": "Machakos Town, Machakos" }, { "name": "Kitengela Veterinary Clinic", "coords": [-1.4833, 36.9667], "tel": "+254722518205", "address": "Kitengela, Kajiado" }, { "name": "Meru Veterinary Services", "coords": [0.0500, 37.6500], "tel": "+254724567890", "address": "Meru Town, Meru" }, { "name": "Nyeri Veterinary Centre", "coords": [-0.4167, 36.9500], "tel": "+254721234567", "address": "Nyeri Town, Nyeri" }, { "name": "Garissa County Vet Services", "coords": [-0.4525, 39.6533], "tel": "+254720987654", "address": "Garissa Town, Garissa" }, { "name": "Lodwar Veterinary Clinic", "coords": [3.1167, 35.6000], "tel": "+254712345098", "address": "Lodwar, Turkana" }, { "name": "Kakamega County Vet Clinic", "coords": [0.2833, 34.7500], "tel": "+254729876543", "address": "Kakamega Town, Kakamega" }, { "name": "Kericho Veterinary Services", "coords": [-0.3667, 35.2833], "tel": "+254723456789", "address": "Kericho Town, Kericho" }, { "name": "Malindi Animal Hospital", "coords": [-3.2167, 40.1167], "tel": "+254722123456", "address": "Malindi, Kilifi" } ];

        const animalImages = { 
            dog: 'assets/images/animals/dog.png', cat: 'assets/images/animals/cat.png', cow: 'assets/images/animals/cow.png', goat: 'assets/images/animals/goat.png', sheep: 'assets/images/animals/sheep.png', pig: 'assets/images/animals/pig.png', sheep_goat: 'assets/images/animals/sheep_goat.png', chicken: 'assets/images/animals/chicken.png'
        };

        const navButtons = document.querySelectorAll('.nav-btn');
        const contentSections = document.querySelectorAll('.content-section');
        const languageSwitcher = document.getElementById('language-switcher');
        const tipsGrid = document.getElementById('tips-grid');
        const reminderCard = document.getElementById('vaxiliv-reminder-card');
        const healthTipModal = document.getElementById('health-tip-modal');
        const healthModalHeader = document.getElementById('health-modal-header');
        const healthModalBody = document.getElementById('health-modal-body');
        const healthModalCloseBtn = document.getElementById('health-modal-close');
        const animalCategorySelect = document.getElementById('animal-category');
        const animalTypeSelect = document.getElementById('animal-type');
        const addAnimalBtn = document.getElementById('add-animal-btn');
        const schedulesContainer = document.getElementById('schedules-container');
        const staticSchedulesContainer = document.getElementById('static-schedules-container');
        const animalIconPreview = document.getElementById('animal-icon-preview');
        const enableNotificationsBtn = document.getElementById('enable-notifications-btn');
        const notificationStatus = document.getElementById('notification-status');
        const upcomingVaccinationsList = document.getElementById('upcoming-vaccinations-list');
        const modal = document.getElementById('modal');
        const modalMessage = document.getElementById('modal-message');
        const modalCloseBtn = document.getElementById('modal-close');

        function initMap() {
            if (map) { setTimeout(() => map.invalidateSize(), 1); return; }
            const mapStatus = document.getElementById('map-status');
            const defaultCoords = [-1.286389, 36.817223];
            map = L.map('map').setView(defaultCoords, 12);
            L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', { attribution: '&copy; OpenStreetMap' }).addTo(map);
            map.locate({setView: true, maxZoom: 14});
            map.on('locationfound', e => { L.marker(e.latlng).addTo(map).bindPopup("You are here").openPopup(); L.circle(e.latlng, e.accuracy).addTo(map); });
            map.on('locationerror', e => mapStatus.textContent = 'Could not find your location. Showing vets around Nairobi.');

            const vetIcon = L.icon({ iconUrl: 'assets/images/icons/vet-map-pin.png', iconSize: [32, 40], iconAnchor: [16, 40], popupAnchor: [0, -40] });
            vetsData.forEach(vet => {
                const callButtonText = appData[currentLang].locator_call_button || 'Call Now';
                const popupContent = `<div class="vet-popup"><h3>${vet.name}</h3><p>${vet.address}</p><a href="tel:${vet.tel}" class="interactive-btn">${callButtonText}</a></div>`;
                L.marker(vet.coords, {icon: vetIcon}).addTo(map).bindPopup(popupContent);
            });
        }
        function switchTab(tab) {
            navButtons.forEach(btn => btn.classList.toggle('active', btn.dataset.tab === tab));
            contentSections.forEach(section => section.classList.toggle('active', section.id === tab));
            window.location.hash = tab;
            if (tab === 'locator') initMap();
        }

        function setLanguage(lang) {
            currentLang = lang;
            const t = appData[lang] || appData.en;
            document.querySelectorAll('[data-key]').forEach(el => {
                const key = el.dataset.key;
                const content = t[key];
                if(content === undefined) return;
                
                if (el.tagName === 'UL') {
                    el.innerHTML = content;
                } else {
                    el.innerHTML = content;
                }
            });
            document.getElementById('animal-name').placeholder = t.animal_name_placeholder;
            localStorage.setItem(LANG_STORAGE_KEY, lang);
            renderAllDynamicContent();
        }

        function renderAllDynamicContent() {
            renderHealthTipsGrid();
            populateAnimalCategorySelect();
            renderAllSchedules();
            renderStaticSchedules();
        }
        function renderHealthTipsGrid() {
            const t = appData[currentLang]; const tips = t.healthTips; tipsGrid.innerHTML = '';
            const animalOrder = ['cow', 'sheep_goat', 'chicken', 'pig', 'dog', 'cat']; // <-- CHICKEN ADDED HERE
            animalOrder.forEach(key => {
                const animal = tips[key]; if (!animal) return;
                const card = document.createElement('div');
                card.className = 'bg-white/80 p-4 rounded-lg shadow-md border text-center cursor-pointer hover:shadow-xl hover:border-brand transform hover:-translate-y-1 transition-all';
                card.dataset.animalKey = key;
                card.innerHTML = `<img src="${animalImages[key]}" alt="${animal.title}" class="w-20 h-20 mx-auto mb-2 object-contain"><h3 class="font-bold text-brand">${animal.title}</h3>`;
                tipsGrid.appendChild(card);
            });
            reminderCard.innerHTML = `<h4 class="font-bold">${tips.vaxiliv_reminder.title}</h4><p>${tips.vaxiliv_reminder.content}</p>`;
        }
        function openHealthTipModal(animalKey) {
            const t = appData[currentLang]; const animalData = t.healthTips[animalKey]; if (!animalData) return;
            healthModalHeader.innerHTML = `<div class="flex items-center space-x-3"><img src="${animalImages[animalKey]}" alt="${animalData.title}" class="w-10 h-10 object-contain"><h2 class="text-xl font-bold text-brand">${animalData.title}</h2></div><button id="modal-close-x" class="text-2xl font-bold p-2 leading-none">&times;</button>`;
            let bodyHtml = `<div class="mb-6"><h3 class="text-lg font-semibold border-b-2 pb-1 mb-2">${t.health_tip_feeding}</h3><p class="whitespace-pre-line">${animalData.feeding_management}</p></div><div><h3 class="text-lg font-semibold border-b-2 pb-1 mb-3">${t.health_tip_diseases}</h3><div class="space-y-4">`;
            animalData.diseases.forEach(d => { bodyHtml += `<div class="bg-white/80 p-3 rounded-lg border"><h4 class="font-bold text-md text-brand">${d.name}</h4>${d.local_name ? `<p class="text-sm italic text-gray-500 mb-2">${d.local_name}</p>` : ''}<strong>${t.health_tip_signs}:</strong><p class="text-sm mb-2">${d.signs}</p><strong>${t.health_tip_first_aid}:</strong><p class="text-sm mb-2">${d.first_aid}</p>${d.prevention ? `<strong>${t.health_tip_prevention}:</strong><p class="text-sm">${d.prevention}</p>` : ''}</div>`; });
            bodyHtml += '</div></div>';
            healthModalBody.innerHTML = bodyHtml;
            healthTipModal.classList.add('visible');
        }
        function closeHealthTipModal() { healthTipModal.classList.remove('visible'); }
        function saveAnimals() { localStorage.setItem(APP_STORAGE_KEY, JSON.stringify(animals)); }
        function loadAnimals() { const stored = localStorage.getItem(APP_STORAGE_KEY); if (stored) animals = JSON.parse(stored); }
        function populateAnimalCategorySelect() { const t = appData[currentLang]; animalCategorySelect.innerHTML = `<option value="">${t.cat_select_category}</option><option value="small">${t.cat_small_animals}</option><option value="large">${t.cat_large_animals}</option><option value="poultry">${t.cat_poultry}</option>`; populateAnimalTypeSelect(); }
        function populateAnimalTypeSelect() {
            const t = appData[currentLang], category = animalCategorySelect.value, options = { small: ['dog', 'cat'], large: ['cow', 'goat', 'sheep', 'pig'], poultry: ['chicken'] };
            let html = `<option value="">${ category ? t.cat_select_type : t.cat_prompt_select_category }</option>`;
            if (category && options[category]) { options[category].forEach(key => { html += `<option value="${key}">${t['animal_' + key]}</option>`; }); }
            animalTypeSelect.innerHTML = html; updateAnimalIconPreview();
        }
        function updateAnimalIconPreview() { const type = animalTypeSelect.value; animalIconPreview.innerHTML = type && animalImages[type] ? `<img src="${animalImages[type]}" class="w-full h-full object-contain p-1">` : ''; }
        function handleAddAnimal() {
            const type = animalTypeSelect.value, name = document.getElementById('animal-name').value.trim(), dob = document.getElementById('animal-dob').value;
            if (!type) { showModal('modal_select_type'); return; } if (!name) { showModal('modal_enter_name'); return; } if (!dob) { showModal('modal_enter_dob'); return; }
            const keyCap = type.charAt(0).toUpperCase() + type.slice(1);
            const schedule = appData.en.schedules[keyCap] || [];
            animals.push({ id: Date.now().toString(), name, type, dob, completed: new Array(schedule.length).fill(false) });
            saveAnimals(); renderAllSchedules();
            document.getElementById('animal-name').value = ''; document.getElementById('animal-dob').value = ''; animalCategorySelect.value = ''; populateAnimalTypeSelect();
        }
        function renderAllSchedules() {
            schedulesContainer.innerHTML = animals.length === 0 ? `<p class="text-center text-gray-500 italic">Your tracked schedules will appear here.</p>` : '';
            if (animals.length > 0) animals.sort((a,b) => a.name.localeCompare(b.name)).forEach(renderScheduleCard);
            renderReminders();
        }
        function renderScheduleCard(animal) {
            const t = appData[currentLang], keyCap = animal.type.charAt(0).toUpperCase() + animal.type.slice(1), scheduleData = t.schedules[keyCap] || [];
            const card = document.createElement('div');
            card.className = 'bg-white/80 p-4 rounded-lg border shadow-lg'; card.dataset.id = animal.id;
            let tableHTML = `<div class="flex justify-between items-start mb-4"><div class="flex items-center space-x-4"><img src="${animalImages[animal.type]}" alt="${animal.type}" class="w-16 h-16 rounded-lg p-1 border-2 bg-gray-100 object-contain"><div><h3 class="font-bold text-xl text-brand">${animal.name}</h3><p class="text-md text-gray-600">${t[`animal_${animal.type}`]}</p></div></div><button class="remove-btn text-red-500 hover:text-red-700 text-2xl p-1 leading-none">&times;</button></div><div class="overflow-x-auto"><table class="w-full text-sm"><thead class="bg-emerald-50/80 text-brand"><tr><th class="p-2 w-10">${t.th_done}</th><th class="p-2">${t.th_vaccine}</th><th class="p-2">${t.th_due_date}</th></tr></thead><tbody>`;
            const dob = new Date(animal.dob), today = new Date(); today.setHours(0,0,0,0);
            scheduleData.forEach((item, index) => {
                const dueDate = getDueDate(dob, item.duration), isCompleted = animal.completed[index];
                let rowClass = isCompleted ? 'completed' : (dueDate < today ? 'pending' : (dueDate.getTime() <= today.getTime() + (7*24*60*60*1000) ? 'due' : ''));
                tableHTML += `<tr class="vaccine-row ${rowClass}" data-index="${index}"><td class="p-2 text-center"><input type="checkbox" class="h-5 w-5 rounded accent-brand" ${isCompleted ? 'checked' : ''}></td><td class="p-2 font-medium">${item.vaccine}</td><td class="p-2">${dueDate.toLocaleDateString()}</td></tr>`;
            });
            card.innerHTML = tableHTML + '</tbody></table></div>'; schedulesContainer.appendChild(card);
        }
        function handleScheduleInteraction(e) {
            const card = e.target.closest('[data-id]'); if (!card) return; const animal = animals.find(a => a.id === card.dataset.id); if (!animal) return;
            if (e.target.type === 'checkbox') { const idx = parseInt(e.target.closest('tr').dataset.index); animal.completed[idx] = e.target.checked; saveAnimals(); renderAllSchedules(); }
            else if (e.target.classList.contains('remove-btn')) { animals = animals.filter(a => a.id !== card.dataset.id); saveAnimals(); renderAllSchedules(); }
        }
        function getDueDate(startDate, weeks) { const date = new Date(startDate); date.setDate(date.getDate() + weeks * 7); return date; }
        function renderStaticSchedules() {
            const t = appData[currentLang], animalOrder = ['dog', 'cat', 'cow', 'goat', 'sheep', 'chicken', 'pig'];
            let contentHTML = '';
            animalOrder.forEach(key => {
                const keyCap = key.charAt(0).toUpperCase() + key.slice(1), schedule = t.schedules[keyCap]; if(!schedule || schedule.length === 0) return;
                let table = `<div class="overflow-x-auto"><table class="w-full text-sm"><thead class="bg-emerald-50/80 text-brand"><tr><th class="p-2">${t.th_vaccine}</th><th class="p-2">${t.th_age}</th></tr></thead><tbody>`;
                schedule.forEach(item => { table += `<tr class="border-b"><td class="p-2 font-medium">${item.vaccine}</td><td class="p-2">${item.age}</td></tr>`; });
                table += `</tbody></table></div>`;
                contentHTML += `<div class="accordion-item bg-white/80 border rounded-lg shadow-sm overflow-hidden"><button class="accordion-header w-full text-left p-4 font-semibold flex justify-between items-center"><span class="flex items-center"><img src="${animalImages[key]}" alt="${t['animal_'+key]}" class="w-12 h-12 rounded-md p-1 mr-4 bg-gray-100 object-contain"><span class="text-lg">${t['animal_'+key]}</span></span><svg class="w-6 h-6 transform transition-transform" viewBox="0 0 24 24"><path d="M19 9l-7 7-7-7"/></svg></button><div class="accordion-content px-4 pb-4">${table}</div></div>`;
            });
            staticSchedulesContainer.innerHTML = contentHTML;
            addAccordionListeners('#static-schedules-container');
        }
        function addAccordionListeners(selector) {
            document.querySelector(selector).querySelectorAll('.accordion-header').forEach(h => h.addEventListener('click', () => {
                const content = h.nextElementSibling; const open = content.style.maxHeight;
                document.querySelector(selector).querySelectorAll('.accordion-content').forEach(c => c.style.maxHeight = null);
                if (!open || open === "0px") content.style.maxHeight = content.scrollHeight + 'px';
            }));
        }
        function updateNotificationUI() {
            const t = appData[currentLang];
            if (!('Notification' in window)) { enableNotificationsBtn.style.display='none'; return; }
            switch (Notification.permission) { case 'granted': enableNotificationsBtn.style.display='none'; notificationStatus.textContent=t.reminders_status_granted; break; case 'denied': enableNotificationsBtn.style.display='none'; notificationStatus.textContent=t.reminders_status_denied; break; default: enableNotificationsBtn.style.display='flex'; notificationStatus.textContent=''; break; }
        }
        function requestNotificationPermission() { Notification.requestPermission().then(p => { updateNotificationUI(); if (p === 'granted') new Notification('Vaxiliv Reminders', { body: 'You will now receive reminders!', icon: 'assets/images/icons/icon-192.png' }); }); }
        function renderReminders() {
            const t = appData[currentLang], reminders = [], today = new Date(); today.setHours(0,0,0,0);
            const sevenDays = new Date(today); sevenDays.setDate(today.getDate() + 7);
            animals.forEach(animal => {
                const keyCap = animal.type.charAt(0).toUpperCase() + animal.type.slice(1);
                (appData.en.schedules[keyCap]||[]).forEach((item, index) => { if (!animal.completed[index]) { const due = getDueDate(new Date(animal.dob), item.duration); if (due <= sevenDays) reminders.push({ animal, item, due }); } });
            });
            reminders.sort((a, b) => a.due - b.due);
            upcomingVaccinationsList.innerHTML = reminders.length === 0 ? `<p class="text-sm text-center italic">${t.reminders_no_upcoming}</p>` : '';
            reminders.forEach(({ animal, item, due }) => {
                const diff = Math.ceil((due - today) / 864e5);
                let statusText = diff < 0 ? t.reminders_overdue : `${t.reminders_due_in} ${diff} ${t.reminders_days}`;
                let statusClass = diff < 0 ? 'text-red-600' : 'text-yellow-700';
                const el = document.createElement('div');
                el.className = 'flex items-center justify-between p-2 bg-white/80 rounded-md border';
                el.innerHTML = `<div class="flex items-center space-x-3"><img src="${animalImages[animal.type]}" alt="${animal.type}" class="w-8 h-8 object-contain"><div><p class="font-semibold text-sm">${item.vaccine}</p><p class="text-xs text-gray-600">${animal.name}</p></div></div><p class="text-xs font-medium ${statusClass}">${statusText}</p>`;
                upcomingVaccinationsList.appendChild(el);
            });
        }
        function showModal(messageKey) { modalMessage.textContent = appData[currentLang][messageKey]; modal.classList.add('visible'); }
        function hideModal() { modal.classList.remove('visible'); }

        navButtons.forEach(b => b.addEventListener('click', () => switchTab(b.dataset.tab)));
        languageSwitcher.addEventListener('change', (e) => setLanguage(e.target.value));
        tipsGrid.addEventListener('click', (e) => { const c = e.target.closest('[data-animal-key]'); if (c) openHealthTipModal(c.dataset.animalKey); });
        healthModalCloseBtn.addEventListener('click', closeHealthTipModal);
        healthTipModal.addEventListener('click', (e) => { if (e.target === healthTipModal) closeHealthTipModal(); });
        healthModalHeader.addEventListener('click', (e) => { if (e.target.id === 'modal-close-x') closeHealthTipModal(); });
        animalCategorySelect.addEventListener('change', populateAnimalTypeSelect);
        animalTypeSelect.addEventListener('change', updateAnimalIconPreview); // <-- FIX ADDED HERE
        addAnimalBtn.addEventListener('click', handleAddAnimal);
        schedulesContainer.addEventListener('click', handleScheduleInteraction);
        enableNotificationsBtn.addEventListener('click', requestNotificationPermission);
        modalCloseBtn.addEventListener('click', hideModal);
        modal.addEventListener('click', (e) => { if(e.target === modal) hideModal(); });

        function init() {
            const splashScreen = document.getElementById('splash-screen');
            setTimeout(() => {
                splashScreen.style.opacity = '0';
                setTimeout(() => {
                    splashScreen.style.display = 'none';
                }, 700);
            }, 2500);
            
            loadAnimals();
            const savedLang = localStorage.getItem(LANG_STORAGE_KEY) || 'en';
            languageSwitcher.value = savedLang;
            setLanguage(savedLang);
            updateNotificationUI();
            const tab = window.location.hash.substring(1);
            if (tab && document.querySelector(`[data-tab="${tab}"]`)) {
                switchTab(tab);
            } else {
                switchTab('tips');
            }
        }
        
        init();
    });
</script>
</body>
</html>